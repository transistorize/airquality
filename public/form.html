<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Egg Sitting: Add an Egg</title>
    <meta charset="utf-8">
    <meta name="description" content="kinisi data platform">

    <link href="css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/aqeeggs.css" rel="stylesheet" media="screen">
    <link href="css/style.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.css" />
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="http://underscorejs.org/underscore-min.js" charset="uft-8"></script>
     <script src="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.js"></script>
     <style type="text/css"> @import url(http://fast.fonts.net/jsapi/e6087e24-2280-44b0-a660-e3e0ff2fdb19.js); </style>
    <script type="text/javascript">
        
        function renderResponse(err, response) {
            if (_.has(response, 'platforms') && _.isArray(response.platforms)) {
                d3.select('#platforms').selectAll('p')
                    .data(response.platforms).enter()
                    .append('p')
                    .text(function (platform, i) { return i + ') name: ' + platform.name + ', uid: ' + platform.uid; });
            }
        }

        function showPlatforms() {
            d3.json('/eggs', renderResponse);                   
        }

    </script>

  </head>
  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="index.html">Egg Sitting</a></li>
              <li><a href="index.html#map">All Eggs</a></li>
              <li><a href="CO.html">Carbon Monoxide (C0)</a></li>
              <li><a href="NO2.html">Nitrogen Dioxide (NO2)</a></li>
              <li><a href="VOC.html">Volatile Organic Compounds (VOC)</a></li>
              <li><a href="form.html">Add An Egg</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>


    <p class="title-text">Add an Egg</p>
    <form method="POST" enctype="multipart/form-data" action="upload"> 
      File to upload: <input type="file" name="datafile" /><br><br> 
      <input type="radio" name="platform" id="new"> New Egg </input>
      <input type="radio" name="platform" id="current" onclick="showPlatforms();"> Current Egg </input><br><br>
      Name: <input type="text" name="name" id="eggname"/><br>
      Name(s): <select id ="x_eggnames">
          <option value="volvo">Volvo</option>
          <option value="saab">Saab</option>
          <option value="opel">Opel</option>
          <option value="audi">Audi</option>
        </select><br>

      Group: <input type="text" name="group" id="group"/><br>
      Notes: <input type="text" name="note" /><br><br>
      Location:
              <div id="map-add"></div>
              <label>Location Description:</label>
              <p><input type="text" name="landmark.location" ng:model="landmark.location" placeholder="Example: Hicks and 9th Brooklyn NYC"/><button ng:click="locsearch()">Search</button></p>

      <input type="submit" value="Upload egg data!" />
    </form>
    <div id="platforms"></div>
  </body>
   <script type="text/javascript">


    var map = L.map('map-add').setView([40.677188,-73.886196], 13);

    L.tileLayer('http://{s}.tile.cloudmade.com/9b49118a2a5a494889d7b0bd5cbfbaf2/997/256/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://cloudmade.com">CloudMade</a>',
      maxZoom: 18 }).addTo(map);


    </script>
</html>

